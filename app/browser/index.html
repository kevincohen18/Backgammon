<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Modern multiplayer backgammon game">
  <meta name="theme-color" content="#0d6efd">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Backgammon">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/png" href="/images/icon-192.png">
  <link rel="apple-touch-icon" href="/images/icon-192.png">
  <title>Backgammon.js - Modern Multiplayer Game</title>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/style/backgammon.css">
  <link rel="stylesheet" type="text/css" href="/style/ribbons.css">
  
  <script type="text/x-mustache" id="tmpl-board">
    <div id="frame-top" class="frame"></div>
    <div class="board cf">
      <div id="pane-left" class="pane">
        <div id="field0" class="field row0 col0"></div>
        <div id="field1" class="field row1 col0"></div>
        <div class="dice-panel left" style="display: none">
          <div id="dice-left" class="dice left"></div>
        </div>
      </div>
      <div id="bar" class="bar" role="region" aria-label="Bar area">
        <div class="bar-content">
          <button type="button" class="navbar-toggle" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-expanded="false" aria-label="Toggle game menu" title="Show/Hide game menu" aria-controls="navbarContent">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
            </svg>
          </button>
          <div id="top-bar" class="bar-section top" role="region" aria-label="Top bar pieces"></div>
          <div id="bottom-bar" class="bar-section bottom" role="region" aria-label="Bottom bar pieces"></div>
        </div>
      </div>
      <div id="pane-right" class="pane">
        <div id="field2" class="field row0 col1"></div>
        <div id="field3" class="field row1 col1"></div>
        <div class="dice-panel right" style="display: none">
          <div id="dice-right" class="dice right"></div>
        </div>
      </div>
    </div>
    <div id="frame-bottom" class="frame"></div>
    <div class="action-panel" role="toolbar" aria-label="Game actions">
      <button id="btn-roll" class="btn btn-primary btn-lg action" style="display: none" title="Roll dice" aria-label="Roll dice">Roll</button>
      <button id="btn-confirm" class="btn btn-primary btn-lg action" style="display: none" title="Confirm moves made" aria-label="Confirm moves">Confirm</button>
      <button id="btn-undo" class="btn btn-outline-secondary btn-lg action" style="display: none" title="Undo moves made" aria-label="Undo last move">Undo</button>
      <div id="dice" style="display: none" role="region" aria-label="Dice"></div>
    </div>
  </script>
  
  <script type="text/x-mustache" id="tmpl-rule-selector-item">
    <input type="radio" class="btn-check" name="rule-selected" id="rule-{{name}}" value="{{name}}" autocomplete="off" {{checked}}>
    <label class="btn btn-outline-primary btn-lg {{active}}" for="rule-{{name}}">{{title}}</label>
  </script>
  
</head>
<body id="page-index">

  <!-- Landing page -->
  <div id="index-view" class="landing-page">
    <div id="github-ribbon" class="ribbon right d-none d-md-block">
      <a href="https://github.com/kevincohen18/Backgammon">Project at GitHub</a>
    </div>
    <div class="landing-content">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-lg-10">
            <h1 class="text-center landing-title">
              Backgammon.js
              <small class="d-block">Extensible multiplayer game</small>
            </h1>
            <div class="rule-selector-container">
              <div id="rule-selector" class="btn-group d-flex flex-wrap justify-content-center gap-2" role="group">
                <input type="radio" class="btn-check" name="rule-selected" id="rule-any" value="*" autocomplete="off" checked>
                <label class="btn btn-outline-primary btn-lg active" for="rule-any">Any</label>
              </div>
            </div>
            <div class="action-buttons">
              <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                <button id="btn-play-random" class="btn btn-primary btn-lg">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                  </svg>
                  Random player
                </button>
                <button id="btn-challenge-friend" class="btn btn-outline-primary btn-lg">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                  </svg>
                  Challenge friend
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Game menu -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light collapse" id="game-navbar">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1" id="match-state">Not in a match</span>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarContent">
        <div class="navbar-nav ms-auto align-items-center gap-2">
          <button type="button" class="btn btn-primary yourself" title="Your score in current match">
            <span id="yourself" class="player">Yourself</span>
            <span id="yourscore" class="score badge bg-light text-dark ms-2">3</span>
          </button>
          <button type="button" class="btn btn-outline-secondary opponent" title="Opponent's score in current match">
            <span id="oppscore" class="score badge bg-secondary me-2">3</span>
            <span id="opponent" class="player">Opponent</span>
          </button>
          <a id="menu-resign" href="#" class="nav-link" title="Resign from current game" role="button">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M14.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM12 3C6.48 3 2 7.48 2 13s4.48 10 10 10 10-4.48 10-10S17.52 3 12 3zm0 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/>
            </svg>
            Resign
          </a>
          <a id="menu-undo" href="#" class="nav-link" title="Undo moves made" role="button">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>
            </svg>
            Undo
          </a>
          <a id="menu-close" href="#" class="nav-link" data-bs-toggle="collapse" data-bs-target="#navbarContent" title="Close game menu" role="button">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
            </svg>
            Close
          </a>
        </div>
      </div>
    </div>
  </nav>
  
  <!-- Game board -->
  <div id="game-view" class="game-container" style="display: none">
    <div id="backgammon"></div>
  </div>
  
  <div id="game-result-overlay" class="game-result overlay" style="display: none">
    <div class="text message">Message</div>
    <div class="text score"><span class="state">State</span><br><strong><span class="yourscore">0</span>&nbsp;:&nbsp;<span class="oppscore">0</span></strong></div>
  </div>
  
  <div id="waiting-overlay" class="waiting overlay" style="display: none">
    <div class="loader">
      <div class="inner">
        <div class="spinner-container">
          <div class="spinner"></div>
        </div>
        <span class="waiting-text">Waiting another player...</span>
        <div class="challenge" style="display: none">
          <p class="challenge-text">Send the link below to friend:</p>
          <div class="input-group input-group-lg challenge-input">
            <input id="challenge-link" type="text" class="form-control" value="test1234" readonly>
            <button class="btn btn-outline-secondary btn-copy" type="button" data-clipboard-target="#challenge-link">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
              </svg>
              Copy
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="messages" role="region" aria-live="polite" aria-atomic="true"></div>
  
  <script type="module" src="/js/main.js"></script>
</body>
</html>